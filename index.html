<html>
    <head>
        <link rel="stylesheet" href="style.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    </head>
    <body>
<script>
    var list = [
        {
            id:1,
        },
        {
            id:2,
        },
        {
            id:3,
        },
        {
            id:4,
        },
        {
            id:5,
        },
        {
            id:6,
        },
        {
            id:7,
        },
        {
            id:8,
        },
        {
            id:9,
        },
        {
            id:10,
        },
    ];
</script>

        <div id="mainContainer">
            <div class="paper" onclick="show(100)">
                <div class="paper-content">
                    <p>Hello world !&#10;Here's a paper textarea tag.</p>
                </div>
            </div>

            <script>
                list.forEach(function(element){
                    var paper = document.createElement("div");
                    paper.classList = ["paper"];
                    var content = document.createElement('div') ;
                    content.classList = ['paper-content'];
                    var text = document.createElement('p');
                    text.innerHTML = element.id ;
                    
                    content.appendChild(text) ;
                    paper.appendChild(content) ;
                    
                    paper.setAttribute('onclick','show('+element.id+')')
                    paper.setAttribute('id','paper-'+element.id)

                    var element = document.getElementById("mainContainer");
                    element.appendChild(paper);
                }) ;
            </script>
         </div>
    </body>
</html>

<script>
var papers = document.querySelectorAll(".paper");
var n = papers.length ;
var animations = {};

for (var i = 0; i < n; i++) {
    var circle = papers[i];
    animations[i] = 0 ;
    animatepapers(circle,i);
}


function show(pid) {
    console.log("Button Clicked Show "+pid) ;
    newPaper = document.getElementById('paper-'+pid).cloneNode(true) ;
    newPaper.classList.remove('paper') ;
    newPaper.classList.add('paper-main') ;
    newPaper.setAttribute('id',pid) ;

    newPaper.removeAttribute('onclick') ;

    closeButton = document.createElement('button') ;
    closeButton.innerHTML = 'X' ;
    closeButton.setAttribute('onclick',"hide("+pid+")") ;
    newPaper.appendChild(closeButton) ;

    mainContainer = document.getElementById('mainContainer') ;
    mainContainer.appendChild(newPaper) ;
}

function hide(pid) {
    console.log("Button Clicked Hide "+pid) ;
    paper = document.getElementById(pid) ;
    paper.remove() ;
}
  
function animatepapers(circle,i) {
    setTimeout(function(){
    var xMax = screen.width;
    var yMax = screen.height;
  
    var maxDeg = 70 ;

    var degZ = 0.8 ;
    var degY = 1 ;

    circle.animProps = {
        duration: 3000 + Math.random() * 9000,
        easing: "ease-out",
    }
  
    var animationPlayer = circle.animate(
        [
            {
                opacity: 0.5,
                transform: "translate3d(" + (Math.random() * xMax) + "px, " + (Math.random() * yMax) + "px, 0px) rotate3d(0,-1," + -degZ*Math.random() + "," + Math.random()*maxDeg + "deg)" 
            }, {
                opacity: 1,
                transform: "translate3d(" + (Math.random() * xMax) + "px, " + (Math.random() * yMax) + "px, 0px) rotate3d(0,0,0,0)" 
            }, {
                opacity: 0.5,
                transform: "translate3d(" + (Math.random() * xMax) + "px, " + (Math.random() * yMax) + "px, 0px) rotate3d(0,1," + degZ*Math.random() + "," + Math.random()*maxDeg + "deg)" 
            }, {
                opacity: 1,
                transform: "translate3d(" + (Math.random() * xMax) + "px, " + (Math.random() * yMax) + "px, 0px) rotate3d(0,0,0,0)" 
            }, {
                opacity: 0.5,
                transform: "translate3d(" + (Math.random() * xMax) + "px, " + (Math.random() * yMax) + "px, 0px) rotate3d(0,-1," + -degZ*Math.random() + "," + Math.random()*maxDeg + "deg)" 
            }
        ], 
        circle.animProps
        );
        animations[i] = animationPlayer ;
        animatepapers(circle,i)
    },5000)
 }
</script>